<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Fenwick</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">haccepted-0.1.0.0: Data structures and algorithms</span><ul class="links" id="page-menu"><li><a href="src/Fenwick.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Fenwick</p></div><div id="description"><p class="caption">Description</p><div class="doc"><h2>Fenwick tree, or binary indexed tree</h2><p>A data structure supporting point updates and range queries, or the opposite.
Large ranges, beyond typical memory limits, are supported.</p><p>Sources:</p><ul><li><a href="https://en.wikipedia.org/wiki/Fenwick_tree">https://en.wikipedia.org/wiki/Fenwick_tree</a></li><li>Peter M. Fenwick, &quot;A New Data Structure for Cumulative Frequency Tables&quot;, 1994
  <a href="https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.14.8917">https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.14.8917</a></li><li><a href="https://hackage.haskell.org/package/binary-indexed-tree">https://hackage.haskell.org/package/binary-indexed-tree</a></li></ul><p>4
    / 
   /   
  2     6
 <em>    </em> 
1   3 5   7</p><p>Let n = r - l + 1 where (l, r) is the range of the Fenwick tree.
The complexities assume (&lt;&gt;) takes O(1) time.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:FTree">FTree</a> a</li><li class="src short"><a href="#v:emptyF">emptyF</a> :: <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> a =&gt; (<a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a</li><li class="src short"><a href="#v:fromListF">fromListF</a> :: <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> a =&gt; (<a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; [a] -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a</li><li class="src short"><a href="#v:mappendF">mappendF</a> :: <a href="Misc.html#t:Commutative" title="Misc">Commutative</a> a =&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a</li><li class="src short"><a href="#v:foldPrefixF">foldPrefixF</a> :: <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> a =&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a -&gt; a</li><li class="src short"><a href="#v:foldRangeF">foldRangeF</a> :: (<a href="Misc.html#t:Commutative" title="Misc">Commutative</a> a, <a href="Misc.html#t:Group" title="Misc">Group</a> a) =&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a -&gt; a</li><li class="src short"><a href="#v:mappendRangeF">mappendRangeF</a> :: (<a href="Misc.html#t:Commutative" title="Misc">Commutative</a> a, <a href="Misc.html#t:Group" title="Misc">Group</a> a) =&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a</li><li class="src short"><a href="#v:binSearchF">binSearchF</a> :: <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> a =&gt; (a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>, a)</li><li class="src short"><a href="#v:toScanl1F">toScanl1F</a> :: <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> a =&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a -&gt; [a]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FTree" class="def">FTree</a> a <a href="src/Fenwick.html#FTree" class="link">Source</a> <a href="#t:FTree" class="selflink">#</a></p><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:FTree">Instances</h4><details id="i:FTree" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FTree:Show:1"></span> <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Text-Show.html#t:Show" title="Text.Show">Show</a> a =&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a)</span> <a href="src/Fenwick.html#line-53" class="link">Source</a> <a href="#t:FTree" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FTree:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Fenwick.html">Fenwick</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a] -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FTree:NFData:2"></span> <a href="https://hackage.haskell.org/package/deepseq-1.4.4.0/docs/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> a =&gt; <a href="https://hackage.haskell.org/package/deepseq-1.4.4.0/docs/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> (<a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a)</span> <a href="src/Fenwick.html#line-150" class="link">Source</a> <a href="#t:FTree" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FTree:NFData:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Fenwick.html">Fenwick</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rnf">rnf</a> :: <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a -&gt; () <a href="#v:rnf" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:emptyF" class="def">emptyF</a> :: <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> a =&gt; (<a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a <a href="src/Fenwick.html#emptyF" class="link">Source</a> <a href="#v:emptyF" class="selflink">#</a></p><div class="doc"><p>Builds a Fenwick tree on range (l, r) where each element is mempty. O(log n).</p></div></div><div class="top"><p class="src"><a id="v:fromListF" class="def">fromListF</a> :: <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> a =&gt; (<a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; [a] -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a <a href="src/Fenwick.html#fromListF" class="link">Source</a> <a href="#v:fromListF" class="selflink">#</a></p><div class="doc"><p>Builds a Fenwick tree on (l, r) where the elements are taken from a list. If the list is shorter
 than the range, the remaining elements are mempty. O(n).</p></div></div><div class="top"><p class="src"><a id="v:mappendF" class="def">mappendF</a> :: <a href="Misc.html#t:Commutative" title="Misc">Commutative</a> a =&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a <a href="src/Fenwick.html#mappendF" class="link">Source</a> <a href="#v:mappendF" class="selflink">#</a></p><div class="doc"><p>mappends to the element at an index. O(log n).</p></div></div><div class="top"><p class="src"><a id="v:foldPrefixF" class="def">foldPrefixF</a> :: <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> a =&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a -&gt; a <a href="src/Fenwick.html#foldPrefixF" class="link">Source</a> <a href="#v:foldPrefixF" class="selflink">#</a></p><div class="doc"><p>The result of folding the prefix upto the given index. Indices outside the tree range are allowed,
 it is assumed elements there are mempty. O(log n).</p></div></div><div class="top"><p class="src"><a id="v:foldRangeF" class="def">foldRangeF</a> :: (<a href="Misc.html#t:Commutative" title="Misc">Commutative</a> a, <a href="Misc.html#t:Group" title="Misc">Group</a> a) =&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a -&gt; a <a href="src/Fenwick.html#foldRangeF" class="link">Source</a> <a href="#v:foldRangeF" class="selflink">#</a></p><div class="doc"><p>Folds the elements in the range (l, r). O(log n).</p></div></div><div class="top"><p class="src"><a id="v:mappendRangeF" class="def">mappendRangeF</a> :: (<a href="Misc.html#t:Commutative" title="Misc">Commutative</a> a, <a href="Misc.html#t:Group" title="Misc">Group</a> a) =&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a <a href="src/Fenwick.html#mappendRangeF" class="link">Source</a> <a href="#v:mappendRangeF" class="selflink">#</a></p><div class="doc"><p>mappends to all elements in the range (l, r). Can be used with foldPrefixF for point queries.
 O(log n).</p></div></div><div class="top"><p class="src"><a id="v:binSearchF" class="def">binSearchF</a> :: <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> a =&gt; (a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>, a) <a href="src/Fenwick.html#binSearchF" class="link">Source</a> <a href="#v:binSearchF" class="selflink">#</a></p><div class="doc"><p>Binary searches for the shortest prefix such that the fold of all values in it satisfies the given
 monotonic predicate. Returns the end index and the fold of the found prefix. O(log n).</p></div></div><div class="top"><p class="src"><a id="v:toScanl1F" class="def">toScanl1F</a> :: <a href="https://hackage.haskell.org/package/base-4.14.1.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> a =&gt; <a href="Fenwick.html#t:FTree" title="Fenwick">FTree</a> a -&gt; [a] <a href="src/Fenwick.html#toScanl1F" class="link">Source</a> <a href="#v:toScanl1F" class="selflink">#</a></p><div class="doc"><p>Converts to a list of prefix accumulated values. O(n).</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>